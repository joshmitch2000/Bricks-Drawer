{"id":842,"name":"drawer-mobile-menu","title":"Drawer Mobile Menu","date":"2024-11-05 21:09:29","date_formatted":"05\/11\/2024","author":{"name":"edynam","avatar":"https:\/\/secure.gravatar.com\/avatar\/daf5af1f5cecbd047f5c668225ec083b?s=60&d=mm&r=g","url":""},"permalink":"https:\/\/templates.edynam.com\/template\/drawer-mobile-menu\/","thumbnail":"https:\/\/templates.edynam.com\/wp-content\/uploads\/bricks\/template-screenshots\/template-screenshot-842-1730894535.webp","bundles":[],"tags":[],"type":"section","content":[{"id":"ldjfwy","name":"section","parent":0,"children":["kmiyfi","yukjyd","qtbige"],"settings":[]},{"id":"kmiyfi","name":"container","parent":"ldjfwy","children":["zzbmgc","ndaspr","pibaek"],"settings":{"_width":"60ch"}},{"id":"yukjyd","name":"offcanvas","parent":"ldjfwy","children":["qdpgvu","luzhul"],"settings":{"noAutoFocus":true,"ariaLabel":"Mobile Menu","_cssGlobalClasses":["nujbjz"],"direction":"bottom","noScrollBody":true},"themeStyles":[]},{"id":"qdpgvu","name":"block","parent":"yukjyd","children":["fokdab"],"settings":{"_hidden":{"_cssClasses":"brx-offcanvas-inner"},"_cssGlobalClasses":["mnwcth"]},"label":"Content","cloneable":false,"deletable":false},{"id":"luzhul","name":"block","parent":"yukjyd","children":[],"settings":{"_hidden":{"_cssClasses":"brx-offcanvas-backdrop"},"_cssGlobalClasses":["kcdqse"]},"label":"Background"},{"id":"fokdab","name":"div","parent":"qdpgvu","children":["tlrzzu","rifgww","omsqzi"],"settings":{"_cssGlobalClasses":["eukwxs"]},"label":"Inner"},{"id":"tlrzzu","name":"heading","parent":"fokdab","children":[],"settings":{"text":"Drawer Title"}},{"id":"rifgww","name":"text-basic","parent":"fokdab","children":[],"settings":{"tag":"p","text":"The drawer component slides in smoothly from the bottom of the screen, perfect for hiding additional content or navigation. Click to open, then close it by clicking the backdrop, pressing escape, clicking the close button or dragging the drawer down\u2014simple, efficient, and keeps the main page clutter-free."}},{"id":"omsqzi","name":"button","parent":"fokdab","children":[],"settings":{"text":"Close drawer","style":"dark","link":{"type":"external","url":"#"},"_interactions":[{"id":"xtwlpz","trigger":"click","action":"toggleOffCanvas","offCanvasSelector":".drawer-wrapper"}],"_border":{"radius":{"top":"var(--radius-s)","right":"var(--radius-s)","bottom":"var(--radius-s)","left":"var(--radius-s)"}}}},{"id":"qtbige","name":"code","parent":"ldjfwy","children":[],"settings":{"javascriptCode":"const drawerWrapper = document.querySelector(\".drawer-wrapper\");\nconst drawer = document.querySelector(\".drawer\");\nconst dragDownThreshold = 150;\nlet startY = 0;\nlet currentY = 0;\nlet isDragging = false;\nlet startScrollTop = 0;\n\nfunction getDragThreshold() {\n  if (dragDownThreshold) return dragDownThreshold;\n\n  \/\/ if threshold value is unset, set to half the height of the drawer\n  return drawer.getBoundingClientRect().height \/ 2;\n}\n\nfunction getScrollbarWidth() {\n  \/\/ if body length is not long enough, scrollbar is not visible hence return 0\n  if (document.body.scrollHeight <= window.innerHeight) return 0;\n\n  \/\/ Creating invisible container\n  const outer = document.createElement(\"div\");\n  outer.style.visibility = \"hidden\";\n  outer.style.overflow = \"scroll\"; \/\/ forcing scrollbar to appear\n  document.body.appendChild(outer);\n\n  \/\/ Creating inner element and placing it in the container\n  const inner = document.createElement(\"div\");\n  outer.appendChild(inner);\n\n  \/\/ Calculating difference between container's full width and the child width\n  const scrollbarWidth = outer.offsetWidth - inner.offsetWidth;\n\n  \/\/ Removing temporary elements from the DOM\n  outer.parentNode.removeChild(outer);\n\n  return scrollbarWidth;\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  document.body.style.setProperty(\"--scrollbar-width\", `${getScrollbarWidth()}px`);\n});\n\nfunction openDrawer() {\n  document.querySelector('.drawer-content').scrollTop = 0; \/\/ ensure menu is scrolled to top when opened\n}\n\nfunction closeDrawer() {\n  drawerWrapper.classList.remove(\"brx-open\");\n\n  drawer.style.transform = \"\";\n}\n\nfunction resetDrawer() {\n  drawer.style.transform = \"\";\n}\n\nfunction startDragging(y) {\n  \/\/ Store the initial scroll position\n  startScrollTop = drawer.querySelector(\".drawer-content\").scrollTop;\n\n  isDragging = true;\n  startY = y;\n  drawer.style.transition = \"none\";\n  drawer.classList.add(\"dragging\");\n}\n\nfunction drag(y) {\n  if (!isDragging) return;\n\n  const deltaY = y - startY;\n  const menuHeight = drawer.getBoundingClientRect().height;\n\n  \/\/ Only allow downward drags when at the top of the content and don't allow to keep dragging down when fulling dragged\n  if (deltaY < 0 || deltaY > menuHeight) {\n    stopDragging();\n    return;\n  }\n\n  currentY = deltaY;\n  drawer.style.setProperty(\n    \"transform\",\n    `translate3d(0, ${currentY}px, 0)`,\n    \"important\"\n  );\n}\n\nfunction stopDragging() {\n  if (!isDragging) return;\n\n  isDragging = false;\n  drawer.style.transition = \"\";\n  drawer.classList.remove(\"dragging\");\n\n  if (currentY > getDragThreshold()) {\n    closeDrawer();\n  } else {\n    \/\/ Reset position if not dragged enough\n    resetDrawer();\n  }\n  currentY = 0;\n}\n\n\/\/ Touch event handlers\ndrawer.addEventListener(\"touchstart\", (e) => {\n  const content = drawer.querySelector(\".drawer-content\");\n  \/\/ Allow scrolling if we're not at the top of the content\n  if (content.scrollTop > 0) {\n    const touch = e.touches[0];\n    const element = document.elementFromPoint(touch.clientX, touch.clientY);\n    if (element && (element === content || content.contains(element))) {\n      return;\n    }\n  }\n  startDragging(e.touches[0].clientY);\n});\n\ndrawer.addEventListener(\n  \"touchmove\",\n  (e) => {\n    const content = drawer.querySelector(\".drawer-content\");\n    \/\/ If we're at the top of the content and dragging down, prevent scrolling\n    if (\n      isDragging &&\n      content.scrollTop === 0 &&\n      e.touches[0].clientY > startY\n    ) {\n      e.preventDefault();\n    }\n    drag(e.touches[0].clientY);\n  },\n  { passive: false }\n);\n\ndrawer.addEventListener(\"touchend\", stopDragging);\ndrawer.addEventListener(\"touchcancel\", stopDragging);\n\n\/\/ Mouse event handlers\ndrawer.addEventListener(\"mousedown\", (e) => {\n  e.preventDefault();\n\n  startDragging(e.clientY);\n\n  \/\/ Add global mouse event listeners\n  document.addEventListener(\"mousemove\", handleMouseMove);\n  document.addEventListener(\"mouseup\", handleMouseUp);\n});\n\nfunction handleMouseMove(e) {\n  drag(e.clientY);\n}\n\nfunction handleMouseUp() {\n  stopDragging();\n\n  \/\/ Clean up global event listeners\n  document.removeEventListener(\"mousemove\", handleMouseMove);\n  document.removeEventListener(\"mouseup\", handleMouseUp);\n}\n\n\/\/ Prevent links from being clicked while dragging\ndrawer.addEventListener(\"click\", (e) => {\n  if (isDragging) {\n    e.preventDefault();\n  }\n});\n","prettify":"tomorrow-night","executeCode":true,"user_id":2,"time":1730894524,"cssCode":"body.no-scroll {\n  padding-right: var(--scrollbar-width, 0px);\n}"},"label":"Menu drag handling"},{"id":"pibaek","name":"button","parent":"kmiyfi","children":[],"settings":{"text":"Open drawer","link":{"type":"external","url":"#"},"_interactions":[{"id":"xmgmky","trigger":"click","action":"toggleOffCanvas","offCanvasSelector":".drawer-wrapper"},{"id":"egaiin","trigger":"click","action":"javascript","target":"self","jsFunction":"openDrawer"}],"_cssGlobalClasses":["dwwpgj"],"style":"dark"}},{"id":"ndaspr","name":"text-basic","parent":"kmiyfi","children":[],"settings":{"text":"The drawer component slides in smoothly from the bottom of the screen, perfect for hiding additional content or navigation. Click to open, then close it by clicking the backdrop, pressing escape, clicking the close button or dragging the drawer down\u2014simple, efficient, and keeps the main page clutter-free.","tag":"p","_margin":{"top":"var(--space-m)"}}},{"id":"zzbmgc","name":"heading","parent":"kmiyfi","children":[],"settings":{"text":"The drawer component","tag":"h1"}}],"templateType":"section","global_classes":[{"id":"mnwcth","name":"drawer","settings":{"_border":{"radius":{"right":"var(--radius-l)","top":"var(--radius-l)"}},"_cssCustom":".drawer {\n  touch-action: none;\n  transition: \n    transform\n      var(--_anim-duration)\n      var(--_anim-easing);\n}\n\n@media (hover: hover) and (pointer: fine) {\n  .drawer {\n    user-select: none;\n  }\n}\n"},"modified":1730881718,"user_id":2},{"id":"eukwxs","name":"drawer-content","settings":{"_width":"min(500px, 100%)","_margin":{"right":"auto","left":"auto"},"_padding":{"top":"70","bottom":"var(--space-xl)","left":"var(--space-l)","right":"var(--space-l)"},"_position":"relative","_cssCustom":"\/* top handle *\/\n.drawer-content::before {\n  content: '';\n  position: absolute;\n  width: 100px;\n  height: 0.5rem;\n  border-radius: 9999px;\n  background-color: hsl(210 40% 96.1%);\n  left: 50%;\n  top: 1rem;\n  transform: translateX(-50%);\n}","_display":"grid","_gridGap":"var(--space-m)"},"modified":1730881718,"user_id":2},{"id":"nujbjz","name":"drawer-wrapper","settings":{"direction":"bottom","height":"min(700px, 70vh)","_cssCustom":".drawer-wrapper {\n  --_anim-duration: 0.5s;\n  --_anim-easing: cubic-bezier(0.32, 0.72, 0, 1);\n}"},"modified":1730881718,"user_id":2},{"id":"kcdqse","name":"mob-drawer-menu__backdrop","settings":{"_background":{"color":{"hex":"#000000","rgb":"rgba(0, 0, 0, 0.8)","hsl":"hsla(0, 0%, 0%, 0.8)"}},"_cssCustom":"\/* --_anim-duration defined in Offcanvas custom CSS *\/\n.mob-drawer-menu__backdrop {\n  transition:\n    opacity\n      var(--_anim-duration)\n      var(--_anim-easing),\n    visibility\n      0s\n      linear\n      var(--_anim-duration);\n}\n\n.brxe-offcanvas.brx-open .mob-drawer-menu__backdrop {\n  transition:\n    opacity\n      var(--_anim-duration)\n      var(--_anim-easing),\n    visibility\n      0s\n      linear\n      0s;\n}"}},{"id":"dwwpgj","name":"drawer-toggle-btn","settings":{"style":"dark","_border":{"radius":{"top":"var(--radius-s)","right":"var(--radius-s)","bottom":"var(--radius-s)","left":"var(--radius-s)"}},"_margin":{"top":"var(--space-xl)"}}}],"globalVariables":[{"id":"primary","name":"primary","value":"#2364A9","category":"corefrm"},{"id":"secondary","name":"secondary","value":"#3fa6d9","category":"corefrm"},{"id":"tertiary","name":"tertiary","value":"#fec701","category":"corefrm"},{"id":"base","name":"base","value":"#f7f7f7","category":"corefrm"},{"id":"bg-body","name":"bg-body","value":"#ffffff","category":"corefrm"},{"id":"text-body","name":"text-body","value":"hsl(0,0%,25%)","category":"corefrm"},{"id":"text-title","name":"text-title","value":"hsl(0,0%,0%)","category":"corefrm"},{"id":"success","name":"success","value":"hsl(136,95%,56%)","category":"corefrm"},{"id":"error","name":"error","value":"hsl(351,95%,56%)","category":"corefrm"},{"id":"error-l-1","name":"error-l-1","value":"hsl(359,100%,69%)","category":"corefrm"},{"id":"error-l-2","name":"error-l-2","value":"hsl(3,100%,77%)","category":"corefrm"},{"id":"error-l-3","name":"error-l-3","value":"hsl(5,100%,84%)","category":"corefrm"},{"id":"error-l-4","name":"error-l-4","value":"hsl(6,100%,92%)","category":"corefrm"},{"id":"light","name":"light","value":"hsla(146,0%,100%,1)","category":"corefrm"},{"id":"dark","name":"dark","value":"hsla(148,0%,0%,1)","category":"corefrm"},{"id":"space-4xs","name":"space-4xs","value":"clamp(0.33rem,calc(-0.03vw + 0.34rem),0.31rem)","category":"corefrm"},{"id":"space-3xs","name":"space-3xs","value":"clamp(0.41rem,calc(0.05vw + 0.39rem),0.44rem)","category":"corefrm"},{"id":"space-2xs","name":"space-2xs","value":"clamp(0.51rem,calc(0.19vw + 0.45rem),0.62rem)","category":"corefrm"},{"id":"space-xs","name":"space-xs","value":"clamp(0.64rem,calc(0.42vw + 0.51rem),0.88rem)","category":"corefrm"},{"id":"space-s","name":"space-s","value":"clamp(0.8rem,calc(0.79vw + 0.56rem),1.24rem)","category":"corefrm"},{"id":"space-m","name":"space-m","value":"clamp(1rem,calc(1.35vw + 0.6rem),1.75rem)","category":"corefrm"},{"id":"space-l","name":"space-l","value":"clamp(1.25rem,calc(2.21vw + 0.59rem),2.47rem)","category":"corefrm"},{"id":"space-xl","name":"space-xl","value":"clamp(1.56rem,calc(3.49vw + 0.52rem),3.5rem)","category":"corefrm"},{"id":"space-2xl","name":"space-2xl","value":"clamp(1.95rem,calc(5.4vw + 0.34rem),4.95rem)","category":"corefrm"},{"id":"space-3xl","name":"space-3xl","value":"clamp(2.44rem,calc(8.21vw + -0.01rem),7rem)","category":"corefrm"},{"id":"space-4xl","name":"space-4xl","value":"clamp(3.05rem,calc(12.32vw + -0.63rem),9.89rem)","category":"corefrm"},{"id":"header-space","name":"header-space","value":"var(--space-s)","category":"corefrm"},{"id":"btn-space","name":"btn-space","value":"var(--space-xs) var(--space-s)","category":"corefrm"},{"id":"card-space","name":"card-space","value":"var(--space-s)","category":"corefrm"},{"id":"footer-space","name":"footer-space","value":"var(--space-s) var(--space-m)","category":"corefrm"},{"id":"text-xs","name":"text-xs","value":"clamp(0.79rem,calc(-0.28vw + 0.87rem),0.63rem)","category":"corefrm"},{"id":"text-s","name":"text-s","value":"clamp(0.89rem,calc(-0.08vw + 0.91rem),0.84rem)","category":"corefrm"},{"id":"text-m","name":"text-m","value":"clamp(1rem,calc(0.23vw + 0.93rem),1.13rem)","category":"corefrm"},{"id":"text-l","name":"text-l","value":"clamp(1.13rem,calc(0.68vw + 0.92rem),1.5rem)","category":"corefrm"},{"id":"text-xl","name":"text-xl","value":"clamp(1.27rem,calc(1.32vw + 0.87rem),2rem)","category":"corefrm"},{"id":"text-2xl","name":"text-2xl","value":"clamp(1.42rem,calc(2.24vw + 0.76rem),2.66rem)","category":"corefrm"},{"id":"text-3xl","name":"text-3xl","value":"clamp(1.6rem,calc(3.51vw + 0.55rem),3.55rem)","category":"corefrm"},{"id":"text-4xl","name":"text-4xl","value":"clamp(1.8rem,calc(5.28vw + 0.22rem),4.74rem)","category":"corefrm"},{"id":"hero-title-size","name":"hero-title-size","value":"var(--text-4xl)","category":"corefrm"},{"id":"post-title-size","name":"post-title-size","value":"var(--text-2xl)","category":"corefrm"},{"id":"nav-link-size","name":"nav-link-size","value":"var(--text-s)","category":"corefrm"},{"id":"columns-1","name":"columns-1","value":"repeat(1,minmax(0,1fr))","category":"corefrm"},{"id":"columns-2","name":"columns-2","value":"repeat(2,minmax(0,1fr))","category":"corefrm"},{"id":"columns-3","name":"columns-3","value":"repeat(3,minmax(0,1fr))","category":"corefrm"},{"id":"columns-4","name":"columns-4","value":"repeat(4,minmax(0,1fr))","category":"corefrm"},{"id":"columns-5","name":"columns-5","value":"repeat(5,minmax(0,1fr))","category":"corefrm"},{"id":"columns-6","name":"columns-6","value":"repeat(6,minmax(0,1fr))","category":"corefrm"},{"id":"columns-7","name":"columns-7","value":"repeat(7,minmax(0,1fr))","category":"corefrm"},{"id":"columns-8","name":"columns-8","value":"repeat(8,minmax(0,1fr))","category":"corefrm"},{"id":"columns-9","name":"columns-9","value":"repeat(9,minmax(0,1fr))","category":"corefrm"},{"id":"columns-10","name":"columns-10","value":"repeat(10,minmax(0,1fr))","category":"corefrm"},{"id":"columns-11","name":"columns-11","value":"repeat(11,minmax(0,1fr))","category":"corefrm"},{"id":"columns-12","name":"columns-12","value":"repeat(12,minmax(0,1fr))","category":"corefrm"},{"id":"radius-xs","name":"radius-xs","value":"clamp(0.25rem,calc(0vw + 0.25rem),0.25rem)","category":"corefrm"},{"id":"radius-s","name":"radius-s","value":"clamp(0.38rem,calc(0.23vw + 0.31rem),0.5rem)","category":"corefrm"},{"id":"radius-m","name":"radius-m","value":"clamp(0.63rem,calc(0.23vw + 0.56rem),0.75rem)","category":"corefrm"},{"id":"radius-l","name":"radius-l","value":"clamp(1rem,calc(0.45vw + 0.87rem),1.25rem)","category":"corefrm"},{"id":"radius-xl","name":"radius-xl","value":"clamp(1.63rem,calc(0.68vw + 1.42rem),2rem)","category":"corefrm"},{"id":"radius-full","name":"radius-full","value":"999rem","category":"corefrm"},{"id":"shadow-xs","name":"shadow-xs","value":"0 1px 2px var(--shadow-primary,rbga(0,0,0,0.25))","category":"corefrm"},{"id":"shadow-s","name":"shadow-s","value":"0 1.5px 3px var(--shadow-primary,rbga(0,0,0,0.25))","category":"corefrm"},{"id":"shadow-m","name":"shadow-m","value":"0 2px 6px var(--shadow-primary,rbga(0,0,0,0.25))","category":"corefrm"},{"id":"shadow-l","name":"shadow-l","value":"0 3px 12px var(--shadow-primary,rbga(0,0,0,0.25))","category":"corefrm"},{"id":"shadow-xl","name":"shadow-xl","value":"0 6px 48px var(--shadow-primary,rbga(0,0,0,0.25))","category":"corefrm"}],"globalVariablesCategories":[{"id":"corefrm","name":"Core Framework"}]}